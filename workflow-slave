name = "workflow-slave"
main = "worker.js"
compatibility_date = "2025-01-01"
compatibility_flags = [ "nodejs_compat" ]
upload_format = "modules"

# ğŸš« No build step â€” NO npm, NO vite, NO bundler
[build]
command = ""

# ==========================================
# ğŸŒ ENVIRONMENT VARIABLES
# These must be added in Cloudflare dashboard (Settings â†’ Variables)
# They are declared here for clarity â€“ no secrets in file!
# ==========================================

[vars]
GITHUB_OWNER = "kbence2000"
GITHUB_REPO = "ASA_FULL"
BASE_BRANCH = "main"

# Optional but supported:
# DEFAULT_PATHS = "src, apps, packages"

# ==========================================
# ğŸ” SECRETS (DO NOT PUT THEM HERE)
# Add them in Cloudflare Dashboard â†’ Workers â†’ workflow-slave â†’ Settings â†’ Variables
# - GITHUB_TOKEN
# - OPENAI_API_KEY
# - CLOUDFLARE_API_TOKEN
# ==========================================

# ==========================================
# ğŸ”— BINDINGS (if using KV, R2, D1, DO, Queues, Service Bindings)
# Add only when needed
# ==========================================

# Example (remove if unused):
# [[kv_namespaces]]
# binding = "ASA_KV"
# id = "xxxxxxxxxxxxxxxxxxxx"

# ==========================================
# ğŸ›« TRIGGERS (optional)
# ==========================================

# Example CRON (disabled by default):
# [triggers]
# crons = ["*/5 * * * *"]